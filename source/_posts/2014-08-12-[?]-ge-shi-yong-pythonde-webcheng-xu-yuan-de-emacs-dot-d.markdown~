---
layout: post
title: "一个使用python的web程序员的emacs.d"
date: 2014-08-12 06:49
comments: true
categories:
- emacs
tags:
- emacs

---

#### 前言

越来越多的人使用emacs作为开发工具. 甚至skype,gmail,豆瓣FM都能通过emacs.
作为一个产品开发,肯定使用很多插件,设置一些快捷键来提高开发效率.以前一直使用
[prelude](https://github.com/bbatsov/prelude),很久之后发现有以下问题:

1. 比如开启python语言支持需要在prelude-modules.el里面把python这样的注释去掉
2. 我不需要支持这么多的语言,也不需要那么多快捷键
3. aotupair实在太难用了
4. scss/css模式不好自定义缩进空格数, tab和空格混用. 不好定制
5. 看过源码后发现,其实很来很简单粗暴的事情弄得有点复杂了

我造了个轮子[.emacs.d](https://github.com/dongweiming/emacs.d),主要针对python和web开发

####Update

2014-09-28, 经过这一个月的继续研究,已经有了很大的改变

#### 项目目录结构

```
├── Cask ; 我使用[cask](https://github.com/cask/cask)做包管理工具
├── auto-insert ; 使用auto-insert设置新增elisp/python文件自动添加基于yasnippet的模板
│   ├── elisp-auto-insert
│   └── python-auto-insert
├── custom ; 自定义插件目录,你也可以把你写的程序放进来然后在init.el里面require
│   ├── flycheck.el ; 定制flycheck,让它在保存python程序时自动执行pep8和flake8,有问题的条目会打开新的buffer打印出来
│   └── py-autopep8.el ; 我自己实现了autopep8插件,保存时自动根据pep8标准处理文件
├── functions.el ; 用到的相关函数
├── helper.el ; 我自己写了个类似`C-h b`的介绍绑定的快捷键的预览表
├── hs-minor-mode-conf.el ; python函数/类折叠
├── init.el ; emacs启动的主程序
├── keys.el ; Key-chord配置,默认被注释了,因为它和我经常大片粘贴代码中代码重复造成很多麻烦
├── local-settings.el ; 本机的本地配置,比如用户名,单独的快捷键等
├── misc.el ; 对emacs本身的一些配置
├── mode-mappings.el ; 模式映射,比如Cask会自动用emacs-lisp-mode
├── modeline.el ; 我重新定制了modeline，使用了nyan-mode和powerline,一些加颜色的hack
├── osx.el ; Mac下的一些独立配置,为我的hhkb定制
├── smartparens-config.el ; 定制了smartparens配置
├── tmp
│   └── README.md
└── xiaoming-theme.el ; 我自己写了一个主题,好吧 我就是`小明`
```

#### 使用的插件列表

1. smex - M-x 的命令行补全的功能
2. emacs-color-theme-solarized - 一个emacs主题
3. ace-jump-mode - 快速钱还光标位置到你想去的地方
4. exec-path-from-shell - 可以使用$PATH环境变量
5. ag - 比ack更快的文本搜索工具`the_silver_searcher`的emacs插件
6. ein - Emacs IPython Notebook
7. jedi - 代码补全插件
8. anzu - 显示当前匹配文本和总匹配数的插件
9. rainbow-mode - 在代码中通过该百年背景色标示颜色
10. magit - git插件
11. popup - 可视化弹出, 效果类似于auto-complete
12. bind-key - 更简单粗暴的绑定快捷键
13. dash - 常用函数集合
14. undo-tree - 通过可视化的撤销以及还原修改
15. use-package - 更简单粗暴的引用包,绑定快捷键以及定制
16. yasnippet - 一个神奇的模板系统,定义缩写并通过tab键自动帮你展开(一些自动的"填空题"机制)
17. helm - 方便查找各种文件内容,buffer切换,emacs命令执行等
18. mmm-mako - Mako插件
19. projectile - 管理项目，可快速访问项目里任何文件，支持全项目关键词搜索
20. multiple-cursors - 同时操作多个区域
21. expand-region - 按层次块区域选择
22. plim-mode - 我自己写的plim的插件
23. rainbow-delimiters - 对内嵌的括号等pair符号加不同颜色
24. drag-stuff - 可以将代码块整体拖动

#### 安装使用

```
curl -fsSkL https://raw.github.com/cask/cask/master/go | python
git clone https://github.com/dongweiming/emacs.d .emacs.d
cd .emacs.d
cask
sudo pip install jedi pep8 autopep8 flake8
```

#### 快捷键分布

请参看项目的[README.md](https://github.com/dongweiming/emacs.d/blob/master/README.md)
