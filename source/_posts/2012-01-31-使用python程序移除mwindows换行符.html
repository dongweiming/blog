---
layout: post
title: 使用python程序移除文件中的“^M”(windows换行符)
categories:
- linux基础
- python
tags:
- windows换行符
published: true
comments: true
indexer: true
---
<p>前言：<span><em>windows换行符</em>的文本在unix下编辑时显示^M，有时候编辑起来很不爽，使用这个程序可以去除windows换行符</span></p>

<p><pre class="sh_python">
import os
import sys
import tempfile</p>

<p>def main():
    filename = sys.argv[1]
    with tempfile.NamedTemporaryFile(delete=False) as fh:
        for line in open(filename):
            line = line.rstrip()
            fh.write(line + '\n')
        os.rename(filename, filename + '.bak')
        os.rename(fh.name, filename)</p>

<p>if __name__ == '__main__':
    main()
</pre></p>

<p>&nbsp;</p>
