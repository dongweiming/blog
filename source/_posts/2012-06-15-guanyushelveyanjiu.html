---
layout: post
title: 关于shelve研究
categories:
- python模块研究
tags:
- shelve
published: true
comments: true
indexer: true
---
<p>前言：shelve模块实现了对任意可被pickle的Python对象进行持久性存储, 也提供类字典API给我们使用，当使用关系数据库是一种浪费的时候, shelve模块可以为Python对象提供一个简单的持久性存储选择. 就像使用字典一样, 通过关键字访问shelf对象. 其值经过pickle, 写入到由anydbm创建和管理的数据库.</p>

<p><pre class="sh_python">
import shelve</p>

<p>s = shelve.open('test.db')   #创建Shelf对象,
try:
    s['key1'] = { 'int': 10, 'float':9.5, 'string':'Sample data' }  #写入key－value
finally:
    s.close()
s = shelve.open('test.db')   #这里读取，可以设置 flag='r'  表示值是只读
try:
    print s['key1']
finally:
    s.close()
</pre></p>

<p>执行结果：</p>

<p>dongwm@linux-dongwm:~&gt; python test.py
{'int': 10, 'float': 9.5, 'string': 'Sample data'}</p>
