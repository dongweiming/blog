---
layout: post
title: 关于atexit研究
categories:
- python模块研究
tags:
- atexit
published: true
comments: true
indexer: true
---
<p>前言：atexit是一个用于一个执行某程序后触发的，执行一个方法的模块，当正常执行后会调用这个回调函数。</p>

<p>下面是一个例子，因为一场退出不触发这个方法：</p>

<p><pre class="sh_python">
import atexit
import os</p>

<p>def not_called():  #这个就是想触发的方法
    print 'This should not be called'  </p>

<p>print 'Registering'
atexit.register(not_called)  #注册这个方法
print 'Registered'</p>

<p>print 'Exiting...'
os._exit(0)
</pre></p>

<p>执行结果：</p>

<p>dongwm@linux-dongwm:~&gt; python !$
python test.py
Registering
Registered
Exiting...
而且atexit还支持装饰器用法:</p>

<p><pre class="sh_python">
import atexit
import os
print 'Registering'
@atexit.register
def not_called():
    print 'This should be called'
print 'Registered'
</pre></p>

<p>执行结果是：</p>

<p>dongwm@linux-dongwm:~&gt; python test.py
Registering
Registered
This should be called</p>

<p>&nbsp;</p>
